<!DOCTYPE html>
<html>
	<head lang="en">
		<meta charset="UTF-8">
		<title>require.config Test</title>
	</head>

	<body>
		<script src="../../../../../node_modules/@dojo/shim/util/amd.js"></script>
		<script src="../../../../src/loader.js"></script>
		<script>
			require.config(shimAmdDependencies({
				baseUrl: '../../../../../',
				map: {
					common: {
						mapped: '_build/tests/common'
					}
				},
				packages: [
					{
						name: 'common',
						location: '_build/tests/common'
					}
				]
			}));

			require.config({
				map: {
					'common/a': {
						mapped: '_build/tests/common/a'
					}
				}
			});

			require(['@dojo/shim/main'], function () {
			    require([
    				'common/map1',
    				'common/a/map2'
    			], function (map1, map2) {
    				window.loaderTestResults = {
    					map1App: map1.app,
    					map2App: map2.app
    				};
    			});
			});
		</script>
	</body>
</html>
